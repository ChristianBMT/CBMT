generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "cockroachdb"
  url      = env("DATABASE_URL")
}

model Devotion {
  id    String @id @default(uuid())
  title String

  author_id String
  author    Author @relation(fields: [author_id], references: [id], onDelete: Cascade, onUpdate: Cascade)

  bible_verse_id String
  content        String
  prayer         String?

  audio_file String?

  devotion_date String
  Devotion_Tag  Devotion_Tag[]

  @@index([author_id])
}

model Tag {
  id           String         @id @default(uuid())
  name         String
  description  String?
  Devotion_Tag Devotion_Tag[]
}

model Devotion_Tag {
  id          String   @id @default(uuid())
  devotion_id String
  devotion    Devotion @relation(fields: [devotion_id], references: [id])
  tag_id      String
  tag         Tag      @relation(fields: [tag_id], references: [id])
}

model Author {
  id       String     @id @default(uuid())
  name     String
  about    String?    @default("")
  Devotion Devotion[]
}
